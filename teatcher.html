<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Учителя</title>
    <link rel="stylesheet" href="css/techer.css">
    <link rel="stylesheet" href="fontStyle.css">
    <link rel="stylesheet" href="naviBar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav>
        <a href="index.html"><i class="fas fa-house" style="color: black;"></i><p>Домой</p></a>
        <a href="teatcher.html" class="activete"><i class="fas fa-chalkboard-teacher" style="color: black;"></i><p>Педагоги</p></a>
        <a href="contact.html"><i class="fas fa-phone" style="color: black;"></i><p>Контакты</p></a>
    </nav>

    <nav style="position: static; visibility: hidden; ">
        <a href="#about"><img src="https://cdn-icons-png.flaticon.com/512/447/447057.png" alt="" width="20px"><p>Сведения</p></a>
        <a href="#about"><img src="https://cdn-icons-png.flaticon.com/512/54/54647.png" alt="" width="20px"><p>Педагоги</p></a>
        <a href="#about"><img src="https://cdn-icons-png.flaticon.com/512/15/15407.png" alt="" width="20px"><p>Контакты</p></a>
    </nav>
    <!-- модалка -->
    <div id="teacher-modal" class="teacher-modal">
    <div class="teacher-modal-content">
        <span class="close">&times;</span>
        <img id="modal-img" src="" alt="">
        <div class="modal-info">
        <h2 id="modal-name"></h2>
        <p id="modal-role"></p>
        <p id="modal-tip"></p>
        <p id="modal-date"></p>
        <p id="modal-phone"></p>
        <blockquote id="modal-quote"></blockquote>
        </div>
    </div>
    </div>

    <br>

    <h1 class="title">Наши учителя</h1>
    <div id="teachers-container" class="teachers"></div>




<script>
    function getAgeText(yearInput) {
        const year = Number(yearInput);
        if (!Number.isFinite(year)) return '';
        const currentYear = new Date().getFullYear();
        const diff = currentYear - year;
        if (diff < 0) return 'в будущем';
        if (diff === 0) return 'меньше года';
        if (diff === 1) return '1 год';
        const mod10 = diff % 10;
        const mod100 = diff % 100;
        if (mod100 >= 11 && mod100 <= 14) return `${diff} лет`;
        if (mod10 >= 2 && mod10 <= 4) return `${diff} года`;
        return `${diff} лет`;
        }

        fetch('teatcher.json')
        .then(res => res.json())
        .then(data => {
        const container = document.getElementById('teachers-container');
        data.forEach(teacher => {
            const card = document.createElement('div');
            card.classList.add('teacher-card');
            card.innerHTML = `
            <img src="${teacher.img}" alt="${teacher.name}">
            <div class="teacher-info">
                <h3>${teacher.name}</h3>
                <p><strong>${teacher.dolj}:</strong> ${teacher.role}</p>
                <p><strong>Должность:</strong> ${teacher.tip}</p>
                <p class="date"><strong>Работает с:</strong> ${teacher.god} ≈ ${getAgeText(teacher.god)}</p>
            </div>
            `;
            card.addEventListener('click', () => openModal(teacher));
            container.appendChild(card);
        });
        })
        .catch(err => console.error('Ошибка при загрузке данных:', err));

        /* ======== Модальное окно ======== */
        const modal = document.getElementById('teacher-modal');
        const closeBtn = modal.querySelector('.close');

        function openModal(teacher) {
            modal.querySelector('#modal-img').src = teacher.img;
            modal.querySelector('#modal-name').textContent = teacher.name;
            modal.querySelector('#modal-role').textContent = `${teacher.dolj}: ${teacher.role}`;
            modal.querySelector('#modal-tip').textContent = `Должность: ${teacher.tip}`;
            modal.querySelector('#modal-date').textContent = `Работает с ${teacher.god} — ${getAgeText(teacher.god)}`;
            modal.querySelector('#modal-phone').textContent = teacher.phone ? `Телефон: ${teacher.phone}` : '';
            modal.querySelector('#modal-quote').textContent = teacher.quote || '';
            modal.classList.add('show');
        }

        function closeModal() { modal.classList.remove('show'); }

        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });
</script>


</body>
</html>